<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bohra {{job_id}}</title>

    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap-theme.min.css" rel="stylesheet">

    <!-- Datatables -->
    <link href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css" rel="stylesheet">
    <link href="https//cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css" rel = "stylesheet">

    <!-- for bokeh -->
    <link href="https://cdn.pydata.org/bokeh/release/bokeh-1.0.4.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.0.4.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.pydata.org/bokeh/release/bokeh-tables-1.0.4.min.css" rel="stylesheet" type="text/css">

    <!-- LOCAL STYLE -->
    <link href="job.css" rel="stylesheet">

    <!-- Graphing library -->
    <script src="https://cdn.pydata.org/bokeh/release/bokeh-1.0.4.min.js"></script>
    <script src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.0.4.min.js"></script>
    <script src="https://cdn.pydata.org/bokeh/release/bokeh-tables-1.0.4.min.js"></script>

  
    <!-- Icon -->
    <script src="https://unpkg.com/feather-icons"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
<!-- TODO fix up download links -->
      <div class="row">
          <nav class="col-md-2 d-none d-md-block bg-dark sidebar">
            <div class="sidebar-sticky">
              <h2 class="h2 jobid">{{job_id}}</h1>
              <ul class="nav flex-column">
                {% for t in td %}

                <li class="nav-item">
                    <a class="nav-link" href="#{{t.link}}">
                        <span data-feather="chevrons-right"></span>
                  {{ t.title}}
                  <span class="sr-only">(current)</span>
                  </a>
                </li>
                {% endfor %}
                              </ul>
      
              </div>
          </nav>
      
    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">


{% for t in td %}
<!-- header section with download -->
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 id="{{t.link}}" class="h2"> {{t.title}} </h1>
    <div class="btn-toolbar mb-2 mb-md-0">
    <!-- <div class="btn-group mr-2"> -->
        <button type="button" class="btn btn-sm btn-outline-secondary" onclick="window.open('{{t.file}}')"><span data-feather="download"></span>DOWNLOAD</button>
      <!-- </div> -->

</div>
  </div>

<!-- data section -->

  {% if t.type == 'table' %}
  <div class="table-responsive">
      <!-- buttons for dowload -->
      
          <table id="khtable" class="table table-striped table-bordered table-sortable">
          <thead>
            <tr><!-- header of table -->
            {{t.head}}
            </tr>
          </thead>
          <tbody>
            <!-- content of table -->
            {{t.body}}
          </tbody>
          <!-- end of table body -->
        </table>
        <!-- end of table -->
      </div>
  {% elif t.type == 'tree' %}
  <div class = "corephylogenytree">
      <img src="{{t.image}}" class="img-fluid" alt="Responsive image">
  </div>
  {% elif t.type == 'graph' %}    
    {{t.div}}

  {% elif t.type == 'matrix' %}
  <div class="table-responsive">
      <!-- buttons for dowload -->
      
          <table id="khtable" class="table table-striped table-bordered table-sortable">
          <thead>
            <tr><!-- header of table -->
            {{t.head}}
            </tr>
          </thead>
          <tbody>
            <!-- content of table -->
            {{t.body}}
          </tbody>
          <!-- end of table body -->
        </table>
        <!-- end of table -->
  </div>
  {{t.div}}

  {% elif t.type == 'pan' %}
  <div class = "roarytosvg">
      <img src="{{t.image}}" class="img-fluid" alt="Responsive image">
  </div>
  <hr/>
  <div class="table-responsive">
      <table id="khtable" class="table table-striped table-bordered table-sortable">
      <thead>
      <tr><!-- header of table -->
      {{t.head}}
      </tr>
      </thead>
      <tbody>
      <!-- content of table -->
      {{t.body}}
      </tbody>
      <!-- end of table body -->
      </table>
      <!-- end of table -->
      </div>

  {% elif t.type == 'versions' %}
  <div class="table-responsive">
      <!-- buttons for dowload -->
      
          <table id="khtable" class="table table-striped table-bordered table-sortable">
          <thead>
            <tr><!-- header of table -->
            {{t.head}}
            </tr>
          </thead>
          <tbody>
            <!-- content of table -->
            {{t.body}}
          </tbody>
          <!-- end of table body -->
        </table>
        <!-- end of table -->
      </div>
  {% endif %}
{% endfor %}



 
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> -->
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <!-- Datatables (to sort tables) -->
  <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <!-- <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script> -->
  <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
  <!-- for icons -->
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
  <!-- Graphing library --> 
  <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> -->
  
  <script>
  $(document).ready( function () {
    $('table.table-sortable').DataTable( {
      lengthMenu: [[10, 25, 100, -1], [10, 25, 100, "All"]],
      //scrollY: '50vh',
      scrollCollapse: true,
      paging: false,
      //scrollX: true,
      //order: [[ -1, "desc" ]],
    } );
  } );
  
//    $('#go-plain').on('click', function () {
//      $(this).button('XXX');
//      $('table.table-sortable').DataTable().destroy(false);
//    } );
  </script>
  <script>
      feather.replace()
    </script>
  
  {% for t in td %}
    {% if t.link == 'snpdensity' %}
      {{ t.script }}
    {% elif t.link == 'distances' %}
      {{ t.script }}
    {% endif %}
  {% endfor %}

</body>
</html>

